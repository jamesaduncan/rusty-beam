<!DOCTYPE html>
<html>
<head>
    <title>Rusty Beam Configuration - Directory Plugin Test</title>
</head>
<body>
    <h1>Server Configuration</h1>
    
    <section itemscope itemtype="http://rustybeam.net/ServerConfig">
        <h2>Server Settings</h2>
        <table>
            <tr>
                <td>Server Root</td>
                <td itemprop="serverRoot">./examples/files</td>
            </tr>
            <tr>
                <td>Bind Address</td>
                <td itemprop="bindAddress">127.0.0.1</td>
            </tr>
            <tr>
                <td>Bind Port</td>
                <td itemprop="bindPort">3001</td>
            </tr>
        </table>
    </section>
    
    <h2>Host Configuration: localhost</h2>
    <table>
        <tbody itemscope itemtype="http://rustybeam.net/HostConfig">
            <tr>
                <td>Host Name</td>
                <td itemprop="hostName">localhost</td>
            </tr>
            <tr>
                <td>Host Root</td>
                <td itemprop="hostRoot">./examples/localhost</td>
            </tr>
            <tr>
                <td>Plugins</td>
                <td>
                    <!-- Directory plugin for /admin -->
                    <div itemprop="plugin" itemscope itemtype="http://rustybeam.net/Plugin">
                        <p itemprop="library">file://./plugins/directory.so</p>
                        <p itemprop="directory">/admin</p>
                        <!-- Nested plugins only apply to /admin/* paths -->
                        <div itemprop="plugin" itemscope itemtype="http://rustybeam.net/Plugin">
                            <p itemprop="library">file://./plugins/basic-auth.so</p>
                            <p itemprop="realm">Admin Area</p>
                            <p itemprop="authfile">file://./examples/localhost/auth/users.html</p>
                        </div>
                        <div itemprop="plugin" itemscope itemtype="http://rustybeam.net/Plugin">
                            <p itemprop="library">file://./plugins/authorization.so</p>
                            <p itemprop="authfile">file://./examples/localhost/auth/admin-authorization.html</p>
                        </div>
                    </div>
                    <!-- Global plugins -->
                    <div itemprop="plugin" itemscope itemtype="http://rustybeam.net/Plugin">
                        <p itemprop="library">file://./plugins/selector-handler.so</p>
                    </div>
                    <div itemprop="plugin" itemscope itemtype="http://rustybeam.net/Plugin">
                        <p itemprop="library">file://./plugins/file-handler-v2.so</p>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</body>
</html>