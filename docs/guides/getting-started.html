<!DOCTYPE html>
<html>
<head>
    <title>Getting Started Tutorial - Rusty Beam</title>
    <style>
        body { font-family: sans-serif; max-width: 1200px; margin: 0 auto; padding: 20px; }
        h1, h2, h3 { color: #333; }
        code { background: #f5f5f5; padding: 2px 4px; border-radius: 3px; }
        pre { background: #f5f5f5; padding: 15px; border-radius: 5px; overflow-x: auto; }
        table { border-collapse: collapse; width: 100%; margin: 20px 0; }
        th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
        th { background: #f8f8f8; font-weight: bold; }
        .warning { background: #fff3cd; border: 1px solid #ffeaa7; padding: 15px; border-radius: 5px; margin: 20px 0; }
        .info { background: #e3f2fd; border: 1px solid #bbdefb; padding: 15px; border-radius: 5px; margin: 20px 0; }
        nav { margin-bottom: 20px; }
        nav a { margin-right: 10px; }
        .success { background: #d4edda; border: 1px solid #c3e6cb; padding: 15px; border-radius: 5px; margin: 20px 0; }
        .step { background: #f8f9fa; border-left: 4px solid #007bff; padding: 15px; margin: 20px 0; }
    </style>
</head>
<body>
    <nav>
        <a href="/">Home</a> → 
        <a href="/guides/">Guides</a> → 
        Getting Started
    </nav>
    
    <h1>Getting Started with Rusty Beam</h1>
    
    <p>This tutorial will guide you through your first steps with Rusty Beam, from running a basic server to implementing advanced features like authentication and CSS selector-based HTML manipulation.</p>
    
    <h2>Table of Contents</h2>
    <ul>
        <li><a href="#prerequisites">Prerequisites</a></li>
        <li><a href="#hello-world">Hello World Server</a></li>
        <li><a href="#basic-file-serving">Basic File Serving</a></li>
        <li><a href="#css-selectors">CSS Selector Operations</a></li>
        <li><a href="#plugins">Working with Plugins</a></li>
        <li><a href="#authentication">Adding Authentication</a></li>
        <li><a href="#dynamic-content">Dynamic Content Manipulation</a></li>
        <li><a href="#best-practices">Best Practices</a></li>
        <li><a href="#next-steps">Next Steps</a></li>
    </ul>
    
    <h2 id="prerequisites">Prerequisites</h2>
    
    <p>Before starting this tutorial, ensure you have:</p>
    <ul>
        <li>Rusty Beam installed (see <a href="/guides/installation.html">Installation Guide</a>)</li>
        <li>Basic command line knowledge</li>
        <li>A text editor</li>
        <li>curl or a web browser for testing</li>
    </ul>
    
    <h2 id="hello-world">Hello World Server</h2>
    
    <p>Let's start with the simplest possible Rusty Beam server.</p>
    
    <div class="step">
        <h3>Step 1: Create a Configuration File</h3>
        
        <p>Create a file named <code>hello-config.html</code>:</p>
        
        <pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Hello World Config&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;table itemscope itemtype="http://rustybeam.net/ServerConfig"&gt;
        &lt;tr&gt;&lt;td&gt;Bind&lt;/td&gt;&lt;td itemprop="bind"&gt;127.0.0.1&lt;/td&gt;&lt;/tr&gt;
        &lt;tr&gt;&lt;td&gt;Port&lt;/td&gt;&lt;td itemprop="port"&gt;3000&lt;/td&gt;&lt;/tr&gt;
        &lt;tr&gt;&lt;td&gt;Root&lt;/td&gt;&lt;td itemprop="root"&gt;./hello-files&lt;/td&gt;&lt;/tr&gt;
    &lt;/table&gt;
    
    &lt;h2&gt;Virtual Hosts&lt;/h2&gt;
    &lt;ul&gt;
        &lt;li itemscope itemtype="http://rustybeam.net/VirtualHost"&gt;
            &lt;span itemprop="host"&gt;localhost&lt;/span&gt;
            &lt;span itemprop="root"&gt;./hello-files&lt;/span&gt;
            
            &lt;h3&gt;Plugins&lt;/h3&gt;
            &lt;ul&gt;
                &lt;li itemprop="plugin" itemscope itemtype="http://rustybeam.net/Plugin"&gt;
                    &lt;span itemprop="library"&gt;file://./plugins/lib/file-handler.so&lt;/span&gt;
                &lt;/li&gt;
            &lt;/ul&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
    </div>
    
    <div class="step">
        <h3>Step 2: Create Content Directory</h3>
        
        <pre><code># Create the content directory
mkdir -p hello-files

# Create a simple index.html
cat &gt; hello-files/index.html &lt;&lt; 'EOF'
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Hello from Rusty Beam!&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Hello, World!&lt;/h1&gt;
    &lt;p&gt;Welcome to your first Rusty Beam server.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
EOF</code></pre>
    </div>
    
    <div class="step">
        <h3>Step 3: Start the Server</h3>
        
        <pre><code># Run the server
rusty-beam hello-config.html

# You should see:
# Server PID: 12345

# The server is now running!</code></pre>
    </div>
    
    <div class="step">
        <h3>Step 4: Test the Server</h3>
        
        <pre><code># In another terminal, test with curl
curl http://localhost:3000/

# Or open in a browser:
# http://localhost:3000/</code></pre>
        
        <div class="success">
            <strong>Congratulations!</strong> You've created your first Rusty Beam server.
        </div>
    </div>
    
    <h2 id="basic-file-serving">Basic File Serving</h2>
    
    <p>Let's explore basic file operations with Rusty Beam.</p>
    
    <h3>Creating and Serving Files</h3>
    
    <pre><code># Create a new HTML file
cat &gt; hello-files/about.html &lt;&lt; 'EOF'
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;About Us&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1 id="main-title"&gt;About Our Service&lt;/h1&gt;
    &lt;div class="content"&gt;
        &lt;p&gt;This is a demonstration of Rusty Beam's capabilities.&lt;/p&gt;
        &lt;ul class="features"&gt;
            &lt;li&gt;Fast file serving&lt;/li&gt;
            &lt;li&gt;CSS selector support&lt;/li&gt;
            &lt;li&gt;Plugin architecture&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
EOF

# Retrieve the file
curl http://localhost:3000/about.html</code></pre>
    
    <h3>Uploading Files</h3>
    
    <pre><code># Upload a new file using PUT
curl -X PUT -d '&lt;h1&gt;Contact Us&lt;/h1&gt;&lt;p&gt;Email: info@example.com&lt;/p&gt;' \
  http://localhost:3000/contact.html

# Verify it was created
curl http://localhost:3000/contact.html</code></pre>
    
    <h3>Directory Listing</h3>
    
    <pre><code># Create a subdirectory
mkdir -p hello-files/docs

# Add some files
echo "&lt;h1&gt;Documentation&lt;/h1&gt;" &gt; hello-files/docs/index.html
echo "&lt;h1&gt;API Guide&lt;/h1&gt;" &gt; hello-files/docs/api.html

# Access the directory (will serve index.html)
curl http://localhost:3000/docs/</code></pre>
    
    <h2 id="css-selectors">CSS Selector Operations</h2>
    
    <p>One of Rusty Beam's unique features is the ability to manipulate HTML using CSS selectors via the Range header.</p>
    
    <div class="info">
        <strong>Note:</strong> CSS selector operations require the selector-handler plugin to be loaded in your configuration.
    </div>
    
    <h3>Adding the Selector Handler Plugin</h3>
    
    <p>Update your configuration to include the selector-handler plugin:</p>
    
    <pre><code>&lt;ul&gt;
    &lt;li itemprop="plugin" itemscope itemtype="http://rustybeam.net/Plugin"&gt;
        &lt;span itemprop="library"&gt;file://./plugins/lib/selector-handler.so&lt;/span&gt;
    &lt;/li&gt;
    &lt;li itemprop="plugin" itemscope itemtype="http://rustybeam.net/Plugin"&gt;
        &lt;span itemprop="library"&gt;file://./plugins/lib/file-handler.so&lt;/span&gt;
    &lt;/li&gt;
&lt;/ul&gt;</code></pre>
    
    <p>Restart the server after updating the configuration.</p>
    
    <h3>Extracting Elements (GET + Selector)</h3>
    
    <pre><code># Extract just the main title
curl -H "Range: selector=#main-title" http://localhost:3000/about.html
# Returns: &lt;h1 id="main-title"&gt;About Our Service&lt;/h1&gt;

# Extract all list items
curl -H "Range: selector=.features li" http://localhost:3000/about.html
# Returns all &lt;li&gt; elements

# Extract by class
curl -H "Range: selector=.content" http://localhost:3000/about.html
# Returns the entire content div</code></pre>
    
    <h3>Replacing Elements (PUT + Selector)</h3>
    
    <pre><code># Replace the main title
curl -X PUT -H "Range: selector=#main-title" \
  -d '&lt;h1 id="main-title"&gt;About Rusty Beam&lt;/h1&gt;' \
  http://localhost:3000/about.html

# Replace multiple elements at once
curl -X PUT -H "Range: selector=.features li" \
  -d '&lt;li&gt;Lightning fast performance&lt;/li&gt;' \
  http://localhost:3000/about.html</code></pre>
    
    <h3>Appending Content (POST + Selector)</h3>
    
    <pre><code># Append to the features list
curl -X POST -H "Range: selector=.features" \
  -d '&lt;li&gt;Dynamic content manipulation&lt;/li&gt;' \
  http://localhost:3000/about.html

# Append to the body
curl -X POST -H "Range: selector=body" \
  -d '&lt;footer&gt;&lt;p&gt;© 2024 Example Corp&lt;/p&gt;&lt;/footer&gt;' \
  http://localhost:3000/about.html</code></pre>
    
    <h3>Removing Elements (DELETE + Selector)</h3>
    
    <pre><code># Remove a specific element
curl -X DELETE -H "Range: selector=footer" \
  http://localhost:3000/about.html

# Remove all elements matching a selector
curl -X DELETE -H "Range: selector=.old-content" \
  http://localhost:3000/about.html</code></pre>
    
    <h2 id="plugins">Working with Plugins</h2>
    
    <p>Rusty Beam's plugin system allows you to extend functionality. Let's add some common plugins.</p>
    
    <h3>Access Logging</h3>
    
    <p>Add the access-log plugin to see all requests:</p>
    
    <pre><code>&lt;li itemprop="plugin" itemscope itemtype="http://rustybeam.net/Plugin"&gt;
    &lt;span itemprop="library"&gt;file://./plugins/lib/access-log.so&lt;/span&gt;
    &lt;meta itemprop="format" content="combined"&gt;
&lt;/li&gt;</code></pre>
    
    <p>Now you'll see Apache-style logs for each request:</p>
    
    <pre><code>127.0.0.1 - - [09/Jul/2025:10:30:45 +0000] "GET /index.html HTTP/1.1" 200 156 "-" "curl/7.81.0"</code></pre>
    
    <h3>CORS Support</h3>
    
    <p>Enable Cross-Origin Resource Sharing:</p>
    
    <pre><code>&lt;li itemprop="plugin" itemscope itemtype="http://rustybeam.net/Plugin"&gt;
    &lt;span itemprop="library"&gt;file://./plugins/lib/cors.so&lt;/span&gt;
    &lt;meta itemprop="allowed-origins" content="*"&gt;
    &lt;meta itemprop="allowed-methods" content="GET,POST,PUT,DELETE,OPTIONS"&gt;
    &lt;meta itemprop="allowed-headers" content="Content-Type,Authorization,Range"&gt;
&lt;/li&gt;</code></pre>
    
    <h3>Plugin Order Matters</h3>
    
    <div class="warning">
        <strong>Important:</strong> Plugin order is crucial. Plugins are executed in the order they appear in the configuration. For example:
        <ol>
            <li>Authentication plugins should come first</li>
            <li>Authorization after authentication</li>
            <li>Content manipulation (selector-handler) before file serving</li>
            <li>File-handler usually last</li>
            <li>Logging plugins at the very end</li>
        </ol>
    </div>
    
    <h2 id="authentication">Adding Authentication</h2>
    
    <p>Let's secure our server with basic authentication.</p>
    
    <div class="step">
        <h3>Step 1: Create User Database</h3>
        
        <p>Create <code>users.html</code>:</p>
        
        <pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;User Database&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;table&gt;
        &lt;tr itemscope itemtype="http://rustybeam.net/User"&gt;
            &lt;td itemprop="username"&gt;admin&lt;/td&gt;
            &lt;td itemprop="password"&gt;secret123&lt;/td&gt;
            &lt;td itemprop="role"&gt;administrators&lt;/td&gt;
            &lt;td itemprop="encryption"&gt;plaintext&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr itemscope itemtype="http://rustybeam.net/User"&gt;
            &lt;td itemprop="username"&gt;user&lt;/td&gt;
            &lt;td itemprop="password"&gt;pass456&lt;/td&gt;
            &lt;td itemprop="role"&gt;users&lt;/td&gt;
            &lt;td itemprop="encryption"&gt;plaintext&lt;/td&gt;
        &lt;/tr&gt;
    &lt;/table&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
    </div>
    
    <div class="step">
        <h3>Step 2: Add Authentication Plugin</h3>
        
        <p>Update your configuration:</p>
        
        <pre><code>&lt;ul&gt;
    &lt;!-- Basic Authentication (first) --&gt;
    &lt;li itemprop="plugin" itemscope itemtype="http://rustybeam.net/Plugin"&gt;
        &lt;span itemprop="library"&gt;file://./plugins/lib/basic-auth.so&lt;/span&gt;
        &lt;meta itemprop="authfile" content="file://./users.html"&gt;
        &lt;meta itemprop="realm" content="Protected Area"&gt;
    &lt;/li&gt;
    
    &lt;!-- Then other plugins... --&gt;
    &lt;li itemprop="plugin" itemscope itemtype="http://rustybeam.net/Plugin"&gt;
        &lt;span itemprop="library"&gt;file://./plugins/lib/selector-handler.so&lt;/span&gt;
    &lt;/li&gt;
    &lt;li itemprop="plugin" itemscope itemtype="http://rustybeam.net/Plugin"&gt;
        &lt;span itemprop="library"&gt;file://./plugins/lib/file-handler.so&lt;/span&gt;
    &lt;/li&gt;
&lt;/ul&gt;</code></pre>
    </div>
    
    <div class="step">
        <h3>Step 3: Test Authentication</h3>
        
        <pre><code># Without credentials (will fail)
curl http://localhost:3000/
# Returns: 401 Unauthorized

# With credentials
curl -u admin:secret123 http://localhost:3000/
# Returns: Your content

# Using Authorization header
curl -H "Authorization: Basic YWRtaW46c2VjcmV0MTIz" http://localhost:3000/</code></pre>
    </div>
    
    <h2 id="dynamic-content">Dynamic Content Manipulation</h2>
    
    <p>Let's build a simple dynamic page that can be updated via the API.</p>
    
    <h3>Create a Template Page</h3>
    
    <pre><code>cat &gt; hello-files/dashboard.html &lt;&lt; 'EOF'
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Dashboard&lt;/title&gt;
    &lt;style&gt;
        .status { padding: 10px; margin: 10px 0; }
        .online { background: #d4edda; }
        .offline { background: #f8d7da; }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;System Dashboard&lt;/h1&gt;
    
    &lt;div id="status" class="status offline"&gt;
        Status: &lt;span id="status-text"&gt;Offline&lt;/span&gt;
    &lt;/div&gt;
    
    &lt;div id="metrics"&gt;
        &lt;h2&gt;Metrics&lt;/h2&gt;
        &lt;ul id="metric-list"&gt;
            &lt;li&gt;CPU: &lt;span class="cpu"&gt;0%&lt;/span&gt;&lt;/li&gt;
            &lt;li&gt;Memory: &lt;span class="memory"&gt;0%&lt;/span&gt;&lt;/li&gt;
            &lt;li&gt;Disk: &lt;span class="disk"&gt;0%&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
    
    &lt;div id="log"&gt;
        &lt;h2&gt;Recent Events&lt;/h2&gt;
        &lt;ul id="event-list"&gt;
            &lt;li&gt;System started&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
EOF</code></pre>
    
    <h3>Update Status Dynamically</h3>
    
    <pre><code># Change status to online
curl -X PUT -H "Range: selector=#status" \
  -d '&lt;div id="status" class="status online"&gt;Status: &lt;span id="status-text"&gt;Online&lt;/span&gt;&lt;/div&gt;' \
  http://localhost:3000/dashboard.html

# Update individual metrics
curl -X PUT -H "Range: selector=.cpu" \
  -d '&lt;span class="cpu"&gt;45%&lt;/span&gt;' \
  http://localhost:3000/dashboard.html

# Add a new event
curl -X POST -H "Range: selector=#event-list" \
  -d '&lt;li&gt;User login detected at 14:30&lt;/li&gt;' \
  http://localhost:3000/dashboard.html</code></pre>
    
    <h3>Building a Simple Update Script</h3>
    
    <pre><code>#!/bin/bash
# update-dashboard.sh

# Function to update a metric
update_metric() {
    local selector="$1"
    local value="$2"
    curl -s -X PUT -H "Range: selector=.$selector" \
      -d "&lt;span class=\"$selector\"&gt;$value&lt;/span&gt;" \
      http://localhost:3000/dashboard.html &gt; /dev/null
}

# Function to add an event
add_event() {
    local event="$1"
    local timestamp=$(date '+%H:%M:%S')
    curl -s -X POST -H "Range: selector=#event-list" \
      -d "&lt;li&gt;[$timestamp] $event&lt;/li&gt;" \
      http://localhost:3000/dashboard.html &gt; /dev/null
}

# Update metrics
update_metric "cpu" "$(top -bn1 | grep "Cpu(s)" | awk '{print $2}')%"
update_metric "memory" "$(free | grep Mem | awk '{print ($3/$2) * 100.0}')%"
update_metric "disk" "$(df -h / | awk 'NR==2 {print $5}')"

# Add event
add_event "Metrics updated"

echo "Dashboard updated!"</code></pre>
    
    <h2 id="best-practices">Best Practices</h2>
    
    <h3>Configuration Management</h3>
    
    <ul>
        <li><strong>Use meaningful hostnames</strong>: Configure virtual hosts for different domains</li>
        <li><strong>Separate configs</strong>: Keep development and production configurations separate</li>
        <li><strong>Version control</strong>: Track configuration changes in git</li>
    </ul>
    
    <h3>Security</h3>
    
    <ul>
        <li><strong>Use HTTPS in production</strong>: Place Rusty Beam behind a reverse proxy with SSL</li>
        <li><strong>Encrypt passwords</strong>: Use bcrypt instead of plaintext passwords</li>
        <li><strong>Limit access</strong>: Use authorization plugins to control access</li>
        <li><strong>Validate input</strong>: Be careful with user-provided CSS selectors</li>
    </ul>
    
    <h3>Performance</h3>
    
    <ul>
        <li><strong>Plugin order</strong>: Place heavy plugins later in the pipeline</li>
        <li><strong>Caching</strong>: Use caching plugins for static content</li>
        <li><strong>Compression</strong>: Enable gzip compression for text files</li>
        <li><strong>Monitoring</strong>: Use access logs and metrics to track performance</li>
    </ul>
    
    <h3>Development Workflow</h3>
    
    <ol>
        <li><strong>Start simple</strong>: Begin with basic file serving</li>
        <li><strong>Add features gradually</strong>: Add plugins one at a time</li>
        <li><strong>Test each change</strong>: Verify functionality after each modification</li>
        <li><strong>Use verbose mode</strong>: Run with <code>-v</code> flag during development</li>
    </ol>
    
    <h2 id="next-steps">Next Steps</h2>
    
    <p>Congratulations! You now understand the basics of Rusty Beam. Here's where to go next:</p>
    
    <h3>Learn More</h3>
    <ul>
        <li><a href="/reference/configuration.html">Configuration Reference</a> - Detailed configuration options</li>
        <li><a href="/reference/http-api.html">HTTP API Reference</a> - Complete API documentation</li>
        <li><a href="/plugins/">Plugin Documentation</a> - Explore all available plugins</li>
    </ul>
    
    <h3>Advanced Topics</h3>
    <ul>
        <li><a href="/guides/security.html">Security Guide</a> - Hardening your installation</li>
        <li><a href="/guides/performance.html">Performance Guide</a> - Optimization techniques</li>
        <li><a href="/guides/deployment.html">Deployment Guide</a> - Production deployment</li>
    </ul>
    
    <h3>Get Involved</h3>
    <ul>
        <li><a href="/tutorials/">More Tutorials</a> - Advanced use cases</li>
        <li><a href="https://github.com/jamesaduncan/rusty-beam">GitHub Repository</a> - Source code and issues</li>
        <li><a href="/CONTRIBUTING.md">Contributing Guide</a> - Help improve Rusty Beam</li>
    </ul>
    
    <div class="success">
        <strong>You're ready!</strong> You now have the knowledge to build powerful applications with Rusty Beam. Happy coding!
    </div>
    
    <footer>
        <p>© 2024 Rusty Beam Project</p>
    </footer>
</body>
</html>